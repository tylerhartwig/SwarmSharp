<?xml version="1.0" encoding="UTF-8"?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms" xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" xmlns:local="clr-namespace:SwarmSharp;Assembly=SwarmSharp" x:Class="SwarmSharp.PlayfieldConfigurationPage">
	<ContentPage.Resources>
		<ResourceDictionary>
			<local:SelectedItemEventArgsToSelectedItemConverter x:Key="SelectedItemConverter" />
		</ResourceDictionary>
	</ContentPage.Resources>
	<ContentPage.BindingContext>
		<local:PlayfieldViewModel />
	</ContentPage.BindingContext>
	<ContentPage.Content>
		<StackLayout>
			<ListView ItemsSource="{Binding SwarmViewModels}" Footer="{Binding AddSwarm}" SelectedItem="{Binding SelectedSwarm}">
				<ListView.Behaviors>
					<local:EventToCommandBehavior EventName="ItemSelected" Command="{Binding EditSwarm}"
						Converter="{StaticResource SelectedItemConverter}" />
				</ListView.Behaviors>
				<ListView.ItemTemplate>
					<DataTemplate>
						<TextCell Text="{Binding Name}" />
					</DataTemplate>
				</ListView.ItemTemplate>
				<ListView.FooterTemplate>
					<DataTemplate>
						<Button BorderRadius="0" BackgroundColor="Green" Text="Add Swarm" TextColor="White" FontAttributes="Bold" Command="{Binding .}" />
					</DataTemplate>
				</ListView.FooterTemplate>
			</ListView>
			<Button Text="Play" Command="{Binding SetupPlay}" />
		</StackLayout>
	</ContentPage.Content>
</ContentPage>
